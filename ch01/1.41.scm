(define (d f)
  (lambda (x) (f (f x))))

(((d (d d)) 1+) 5) ; (1)

(d (d d)) ; =>
(lambda (g) ((d d) ((d d) g))) ; (2)

(d d) ; =>
(lambda (h) (d (d h))) ; (3)

; substitute (3) into (2)
(lambda (g) ((lambda (h) (d (d h))) ((lambda (i) (d (d i))) g)))
(lambda (g) ((lambda (h) (d (d h))) (d (d g))))
(lambda (g) (d (d (d (d g))))) ; (4)
(d (d d)) ; =>
(lambda (g) (d (d (d (d g))))) ;(4)

; substitute (4) into (1)
(((lambda (g) (d (d (d (d g))))) 1+) 5) ; (5)

((lambda (g) (d (d (d (d g))))) 1+) ; =>
(d (d (d (d 1+))))
(d (d (d (lambda (x) (1+ (1+ x))))))
(d (d (lambda (y) ((lambda (x) (1+ (1+ x)))
				   ((lambda (x) (1+ (1+ x))) y)))))
(d (d (lambda (y) ((lambda (x) (1+ (1+ x)))
				   (1+ (1+ y))))))
(d (d (lambda (y) (1+ (1+ (1+ (1+ y)))))))

(d (lambda (z) ((lambda (y) (1+ (1+ (1+ (1+ y)))))
				((lambda (y) (1+ (1+ (1+ (1+ y))))) z))))
(d (lambda (z) ((lambda (y) (1+ (1+ (1+ (1+ y)))))
				(1+ (1+ (1+ (1+ z)))))))
(d (lambda (z) (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ z))))))))))

(lambda (x) ((lambda (z) (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ z)))))))))
			 ((lambda (z) (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ z))))))))) x)))
(lambda (x) ((lambda (z) (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ z)))))))))
			 (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ x))))))))))
(lambda (x) (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ x))))))))))))))))) ; (6)

; substitute (6) into (5)
((lambda (x) (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ x))))))))))))))))) 5)
(1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ 5))))))))))))))))
(1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ 6)))))))))))))))
(1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ 7))))))))))))))
(1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ 8)))))))))))))
(1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ 9))))))))))))
(1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ 10)))))))))))
(1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ 11))))))))))
(1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ 12)))))))))
(1+ (1+ (1+ (1+ (1+ (1+ (1+ (1+ 13))))))))
(1+ (1+ (1+ (1+ (1+ (1+ (1+ 14)))))))
(1+ (1+ (1+ (1+ (1+ (1+ 15))))))
(1+ (1+ (1+ (1+ (1+ 16)))))
(1+ (1+ (1+ (1+ 17))))
(1+ (1+ (1+ 18)))
(1+ (1+ 19))
(1+ 20)
21
